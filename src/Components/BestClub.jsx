import React from "react";

const musicClubs = [
  {//15 //05 //잠바
      count: 1,
      imageSrc: "/musicClub/musicClub01.jpg",
      title: "봉현회",
      content: "기타 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub02.jpg",
      title: "CODA",//15 1
      content: "밴드 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub03.jpg",
      title: "Assemble",
      content: "춤 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub04.jpg",
      title: "수레바퀴",
      content: "밴드 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub05.jpg",
      title: "유니콘",//05//잠바
      content: "치어리딩 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub06.jpeg",
      title: "춤바람",//05//잠바
      content: "춤 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub07.jpeg",
      title: "한림극회",//15 6//잠바
      content: "연극 동아리",
  },
  {
      count: 1,
      imageSrc: "/preparing_Image.png",
      title: "두레박",//15 7//잠바
      content: "버스킹 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub08.jpg",
      title: "먹메",//잠바
      content: "사물놀이 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub09.jpeg",
      title: "힙합PD",//05
      content: "힙합 동아리",
  },
  {
      count: 1,
      imageSrc: "/musicClub/musicClub10.jpg",
      title: "X-Ray",
      content: "밴드 동아리",
  },
];
const religiousClubs = [
  
  {
      count: 1,
      imageSrc: "/religionClub/religionClub02.jpeg",
      title: "한림불회(대불련)",
      content: "불교 동아리",
  },
  {
    count: 1,
    imageSrc: "/religionClub/religionClub01.jpeg",
    title: "CCC",
    content: "기독교 동아리",
  },
  {
      count: 1,
      imageSrc: "/religionClub/religionClub03.jpeg",
      title: "카톨릭학생회",
      content: "천주교 동아리",
  },
];
const academicClubs = [
  {
    count: 1,
    imageSrc: "/preparing_Image.png",
    title: "CHAOS",//05
    content: "스터디 동아리",
  },
  {
    count: 1,
    imageSrc: "/academicClub/academicClub02.jpeg",
    title: "시리우스",//잠바
    content: "타로 동아리",
},
  {
      count: 1,
      imageSrc: "/academicClub/academicClub01.jpg",
      title: "FIMP",
      content: "생물연구 동아리",
  },
  
  
];
const volunteeringClubs = [
  {
      count: 1,
      imageSrc: "/volunteerClub/volunteerClub01.png",
      title: "Give",
      content: "재능 기부 동아리",
  },
  {
      count: 1,
      imageSrc: "/volunteerClub/volunteerClub02.jpeg",
      title: "RCY",
      content: "봉사 동아리",
  },
  {
      count: 1,
      imageSrc: "/preparing_Image.png",
      title: "준비중",
      content: "",
  },
];
const sportsClubs = [
  {
    count: 1,
    imageSrc: "/sportsClubs/sportsClub02.jpg",
    title: "데구르르",
    content: "볼링 동아리",
},
  {
      count: 1,
      imageSrc: "/sportsClubs/sportsClub01.jpg",
      title: "공굴리기",
      content: "볼링 동아리",
  },
  {
    count:1,
    imageSrc: "/sportsClubs/sportsClub12.png",
    title: "X-TRIC",//15 2
    content: "익스트림 스포츠 동아리",
  },
  {
    count: 1,
    imageSrc: "/sportsClubs/sportsClub08.jpg",
    title: "피닉스",//15 3//잠바
    content: "미식축구"
  }
  ,
  {
    count: 1,
    imageSrc: "/sportsClubs/sportsClub10.jpg",
    title: "해강박",//잠바
    content: "검도 동아리",
  },
  {
    count: 1,
    imageSrc: "/sportsClubs/sportsClub07.jpg",
    title: "키커",
    content: "축구 동아리",
  },
  {
    count:1,
    imageSrc: "/sportsClubs/sportsClub09.jpg",
    title: "한림FC",//05
    content: "여자축구 동아리",
  },
  {
      count: 1,
      imageSrc: "/sportsClubs/sportsClub03.jpg",
      title: "레이서스",//15 7//잠바
      content: "야구 동아리",
  },
  {
    count: 1,
    imageSrc: "/sportsClubs/sportsClub05.jpg",
    title: "스네이크",
    content: "야구 동아리",
  },
  {
      count: 1,
      imageSrc: "/sportsClubs/sportsClub04.jpg",
      title: "매치포인트",
      content: "탁구 동아리",
  },
  
  {
      count: 1,
      imageSrc: "/preparing_Image.png",
      title: "스카이",
      content: "배구 동아리",
  },
  {
      count: 1,
      imageSrc: "/sportsClubs/sportsClub06.jpg",
      title: "케미",
      content: "농구 동아리",
  },
    {
      count: 1,
      imageSrc: "/sportsClubs/sportsClub11.jpg",
      title: "Tie-Break",//15 12
      content: "테니스 동아리",
    },
    
    
    
    
];
const artsClubs = [
  {
      count: 1,
      imageSrc: "/artsClubs/artClub01.png",
      title: "영상틀",//15 0
      content: "영상 제작 동아리",
  },
  {
    count: 1,
    imageSrc: "/artsClubs/artClub05.jpg",
    title: "한빛사진회",
    content: "사진 동아리",
},
{
  count: 1,
  imageSrc: "/artsClubs/artClub03.jpg",
  title: "푸메토",//15 2
  content: "만화 동아리",
},
  {
      count: 1,
      imageSrc: "/artsClubs/artClub02.jpg",
      title: "천지",
      content: "만화 동아리",
  },
  {
    count: 1,
    imageSrc: "/artsClubs/artClub06.jpeg",
    title: "IDENTITY",
    content: "보드 동아리",
},
  {
      count: 1,
      imageSrc: "/artsClubs/artClub04.jpg",
      title: "하얀도화지",//15 5
      content: "미술 동아리",
  },
 
  
];

  const BestClub=(props)=>{
    // const [maxNum,setMaxNum]
    console.log("컴포넌트 안");
    const { selectedKey } = props;
    let arrClub=[];
    let maxNum=0;

    function increaseClubCounts(clubs,increaseAmount) {
      for (let i = 0; i < clubs.length; i++) {
          (clubs[i].count)+=increaseAmount;
          if (clubs[i].count >= maxNum) {
              maxClub(clubs[i].count, clubs[i].title,clubs[i].imageSrc);
          }
      }
  }
    // const maxClub=(count,title,src)=>{
    //   arrClub.push({title:title,count:count,src:src});
    //   const compareByCount = (a, b) => b.count - a.count;
    //   arrClub.sort(compareByCount);
    // };    
    const maxClub = (count, title, src) => {
      // Check if an entry with the same title already exists
      const existingClub = arrClub.find(club => club.title === title);
    
      if (existingClub) {
        existingClub.count += count;
      } else {
        if (arrClub.length < 10 || count >= arrClub[9].count) {
          arrClub.push({ title: title, count: count, src: src });
        }      }
      arrClub.sort((a, b) => b.count - a.count);
    };
    

    const resultLogic=(selectedKey)=>{
        //max를 저장하는 변수 만들고 카운트 올릴때 마다 max최신화 max는 카운트의 최대값과 동아리명을 같이 저장 
        const num=selectedKey.length;
        let clubBundle;
        let clubDetail;
        //각 질문에서 선택한 개수 만큼 
        for(let i=0;i<num;i++){
            clubBundle=Math.floor(selectedKey[i]/10);//몇 번쨰 질문인지
            clubDetail=selectedKey[i]%10;//질문지에서 몇번을 골랐는지 
            switch(clubBundle){
                case 1://1번 질문
                  switch (clubDetail) {
                    case 1:
                        increaseClubCounts(artsClubs,5);
                        break;
                    case 2:
                        increaseClubCounts(sportsClubs,5);
                        console.log("1 스포츠")
                        break;
                    case 3:
                        increaseClubCounts(musicClubs,5);
                        break;
                    case 4:
                        increaseClubCounts(volunteeringClubs,5);
                        break;
                    case 5:
                        increaseClubCounts(religiousClubs,5);
                        break;
                    case 6:
                        increaseClubCounts(academicClubs,5);
                        break;
                    default:
                      break;
                    }
                  break;
                case 2:
                  switch (clubDetail) {
                    case 1:
                        increaseClubCounts(artsClubs,5);
                        break;
                    case 2:
                        increaseClubCounts(sportsClubs,5);
                        console.log("2 스포츠")

                        break;
                    case 3:
                        increaseClubCounts(musicClubs,5);
                        break;
                    case 4:
                        increaseClubCounts(volunteeringClubs,5);
                        break;
                    case 5:
                        increaseClubCounts(religiousClubs,5);
                        break;
                    case 6:
                        increaseClubCounts(academicClubs,5);
                        break;
                    default:
                    }
    
                    break;
                case 3:
                  switch (clubDetail) {
                    case 1:
                        increaseClubCounts(artsClubs,5);
                        break;
                    case 2:
                        increaseClubCounts(sportsClubs,5);
                        console.log("3 스포츠")

                        break;
                    case 3:
                        increaseClubCounts(musicClubs, 5);
                        break;
                    case 4:
                        increaseClubCounts(volunteeringClubs,5);
                        break;
                    case 5:
                        increaseClubCounts(religiousClubs,5);
                        break;
                    case 6:
                        increaseClubCounts(academicClubs,5);
                        break;
                    default:
                    }
    
                    break;
                case 4:
                  switch (clubDetail) {
                    case 1:
                        musicClubs[5].count+=2;
                        musicClubs[4].count+=2;
                        musicClubs[2].count+=2;
                        break;
                    
                    case 2:
                        musicClubs[8].count+=2;
                        musicClubs[0].count+=2;
                        break;
                    case 3:
                      musicClubs[9].count+=2;
                      break;
                    case 4:
                      musicClubs[6].count+=2;
                      break;
                    case 5:
                      musicClubs[7].count+=2;
                      break;
                    
                    default:
                      break;
                    }
                    for (let i = 0; i < musicClubs.length; i++) {
                      if (musicClubs[i].count >= maxNum) {
                          maxClub(musicClubs[i].count, musicClubs[i].title,musicClubs[i].imageSrc);
                      }}
                  break;
                case 5:
                  switch (clubDetail) {
                    case 1:
                        musicClubs[5].count+=2;
                        musicClubs[4].count+=2;
                        musicClubs[2].count+=2;
                        break;
                    
                    case 2:
                        musicClubs[8].count+=2;
                        musicClubs[0].count+=2;
                        break;
                    case 3:
                      musicClubs[9].count+=2;
                      break;
                    case 4:
                      musicClubs[6].count+=2;
                      break;
                    case 5:
                      musicClubs[7].count+=2;
                      break;
                      case 6:
                        musicClubs[3].count+=4;
                        musicClubs[10].count+=4;
                        musicClubs[1].count+=4;
                        break;
                    default:
                      break;
                    }
                    for (let i = 0; i < musicClubs.length; i++) {
                      if (musicClubs[i].count >= maxNum) {
                          maxClub(musicClubs[i].count, musicClubs[i].title,musicClubs[i].imageSrc);
                      }
                  }
                    break;
                case 6:
                  switch (clubDetail) {
                    case 1:
                      sportsClubs[0].count+=4;
                      sportsClubs[1].count+=4;
                      break;
                    
                    case 2:
                      sportsClubs[2].count+=4;
                        break;
                    case 3:
                      sportsClubs[3].count+=4;
                      break;
                    case 4:
                      sportsClubs[4].count+=4;
                      break;
                    case 5:
                      sportsClubs[5].count+=4;
                      sportsClubs[6].count+=4;
                      break;
                    default:
                      break;
                    }
                    for (let i = 0; i < sportsClubs.length; i++) {
                      if (sportsClubs[i].count >= maxNum) {
                          maxClub(sportsClubs[i].count, sportsClubs[i].title,sportsClubs[i].imageSrc);
                      }
                  }
                    break;  
                case 7:
                  switch (clubDetail) {
                    case 1:
                      sportsClubs[7].count+=4;
                      sportsClubs[8].count+=4;
                      break;
                    case 2:
                      sportsClubs[9].count+=4;
                        break;
                    case 3:
                      sportsClubs[10].count+=4;
                      break;
                    case 4:
                      sportsClubs[11].count+=4;
                      break;
                    case 5:
                      sportsClubs[12].count+=4;
                      break;
                    default:
                      break;
                    }
                    for (let i = 0; i < sportsClubs.length; i++) {
                      if (sportsClubs[i].count >= maxNum) {
                          maxClub(sportsClubs[i].count, sportsClubs[i].title,sportsClubs[i].imageSrc);
                      }
                  }
                  break;
                case 8:
                case 9:
                  switch (clubDetail) {
                    case 1:
                      academicClubs[0].count+=4;
                      break;
                    case 2:
                      academicClubs[1].count+=4;
                        break;
                    case 3:
                      academicClubs[2].count+=4;
                      break;
                    
                    default:
                      break;
                    }
                    for (let i = 0; i < academicClubs.length; i++) {
                      if (academicClubs[i].count >= maxNum) {
                          maxClub(academicClubs[i].count, academicClubs[i].title,sportsClubs[i].imageSrc);
                      }
                  }
                  break;

                case 10:
                  switch (clubDetail) {
                    case 1:
                      religiousClubs[0].count+=2;
                      break;
                    case 2:
                      religiousClubs[1].count+=2;
                        break;
                    case 3:
                      religiousClubs[2].count+=2;
                      break;
                    case 4:
                    break;
                    
                    default:
                      break;
                    }
                    for (let i = 0; i < religiousClubs.length; i++) {
                      if (religiousClubs[i].count >= maxNum) {
                          maxClub(religiousClubs[i].count, religiousClubs[i].title,sportsClubs[i].imageSrc);
                      }
                  }
                  break;
                case 11:
                case 12:
                  switch (clubDetail) {
                    case 1:
                      artsClubs[0].count+=2;
                      artsClubs[1].count+=2;

                      break;
                    case 2:
                      artsClubs[2].count+=2;
                      artsClubs[3].count+=2;

                        break;
                    case 3:
                      artsClubs[4].count+=2;

                      break;
                    case 4:
                      artsClubs[5].count+=2;
                      break;
                    default:
                      break;
                    }
                    for (let i = 0; i < artsClubs.length; i++) {
                      if (artsClubs[i].count >= maxNum) {
                          maxClub(artsClubs[i].count, artsClubs[i].title,sportsClubs[i].imageSrc);
                      }
                  }
                  break;
                case 13:
                  switch (clubDetail) {
                    case 1://5000원
                      //misic 4,5,9
                      musicClubs[4].count+=2;
                      musicClubs[5].count+=2;
                      musicClubs[9].count+=2;
                      academicClubs[0].count+=2;
                      sportsClubs[6].count+=2;
                      //acde 0
                      //spo 6
                      break;
                    case 2://10000원
                      musicClubs[4].count-=2;
                      musicClubs[5].count-=2;
                      musicClubs[9].count-=2;
                      academicClubs[0].count-=2;
                      sportsClubs[6].count-=2;
                      musicClubs[0].count-=2;
                      musicClubs[6].count-=2;
                      musicClubs[7].count-=2;
                      artsClubs[0].count-=2;
                      artsClubs[2].count-=2;
                      artsClubs[5].count-=2;
                      sportsClubs[2].count-=2;
                      sportsClubs[3].count-=2;
                      sportsClubs[7].count-=2;
                      break;
                    case 3://15000원
                    //musi 0 6 7
                    //sport2 3 7
                    //art 0 2 5
                      musicClubs[0].count+=2;
                      musicClubs[6].count+=2;
                      musicClubs[7].count+=2;
                      artsClubs[0].count+=2;
                      artsClubs[2].count+=2;
                      artsClubs[5].count+=2;
                      sportsClubs[2].count+=2;
                      sportsClubs[3].count+=2;
                      sportsClubs[7].count+=2;
                      break;
                    default:
                    break;
                  }
                  for (let i = 0; i < religiousClubs.length; i++) {
                    maxClub(religiousClubs[i].count, religiousClubs[i].title,religiousClubs[i].imageSrc);
                  } 
                  for (let i = 0; i < musicClubs.length; i++) {
                    maxClub(musicClubs[i].count, musicClubs[i].title,musicClubs[i].imageSrc);
                  }  
                  for (let i = 0; i < academicClubs.length; i++) {
                    maxClub(academicClubs[i].count, academicClubs[i].title,academicClubs[i].imageSrc);
                  }  
                  for (let i = 0; i < volunteeringClubs.length; i++) {
                    maxClub(volunteeringClubs[i].count, volunteeringClubs[i].title,volunteeringClubs[i].imageSrc);
                  }  
                  for (let i = 0; i < sportsClubs.length; i++) {
                    maxClub(sportsClubs[i].count, sportsClubs[i].title,sportsClubs[i].imageSrc);
                  } 
                  for (let i = 0; i < artsClubs.length; i++) {
                    maxClub(artsClubs[i].count, artsClubs[i].title,artsClubs[i].imageSrc);
                  }     
                  // const compareByCount = (a, b) => b.count - a.count;
                  // arrClub.sort(compareByCount);
                break;
                case 14:
                  switch (clubDetail) {
                    case 1:
                      artsClubs[0].count+=2;
                      artsClubs[1].count+=2;

                      break;
                    case 2:
                      artsClubs[2].count+=2;
                      artsClubs[3].count+=2;

                        break;
                    case 3:
                      artsClubs[4].count+=2;
                      break;
                    default:
                    break;
                  }
                  for (let i = 0; i < religiousClubs.length; i++) {
                    maxClub(religiousClubs[i].count, religiousClubs[i].title,religiousClubs[i].imageSrc);
                  } 
                  for (let i = 0; i < musicClubs.length; i++) {
                    maxClub(musicClubs[i].count, musicClubs[i].title,musicClubs[i].imageSrc);
                  }  
                  for (let i = 0; i < academicClubs.length; i++) {
                    maxClub(academicClubs[i].count, academicClubs[i].title,academicClubs[i].imageSrc);
                  }  
                  for (let i = 0; i < volunteeringClubs.length; i++) {
                    maxClub(volunteeringClubs[i].count, volunteeringClubs[i].title,volunteeringClubs[i].imageSrc);
                  }  
                  for (let i = 0; i < sportsClubs.length; i++) {
                    maxClub(sportsClubs[i].count, sportsClubs[i].title,sportsClubs[i].imageSrc);
                  } 
                  for (let i = 0; i < artsClubs.length; i++) {
                    maxClub(artsClubs[i].count, artsClubs[i].title,artsClubs[i].imageSrc);
                  }     
                  break;
                default:console.log("error");
                break;
            }
            // const compareByCount = (a, b) => b.count - a.count;
            // arrClub.sort(compareByCount);
        }
       
    };
  
    resultLogic(selectedKey);

    console.log(arrClub);
    return(
    <>
    <div className="bestClub">
    {/* <p>베스트 동아리 이름: {arrClub[0].title}</p>
    <p>베스트 동아리 숫자: {arrClub[0].count}</p>
    <p>2등 동아리 이름: {arrClub[1].title}</p>
    <p>2등 동아리 숫자: {arrClub[1].count}</p>
    <p>3등 동아리 이름: {arrClub[2].title}</p>
    <p>3등 동아리 숫자: {arrClub[2].count}</p>
    <p>4등 동아리 이름: {arrClub[3].title}</p>
    <p>4등 동아리 숫자: {arrClub[3].count}</p> */}

      <div className="bestClub_imagebox" style={{backgroundImage: `url(${arrClub[0].src})`,backgroundSize:'cover'}}></div>
      <h1>{arrClub[0].title}</h1>
      {<h2>{arrClub[1].title}도 같이 추천합니다!</h2>}
      {/* <h2>{arrClub[0].count}</h2> */}
    </div>
    </>
    );
};


export default React.memo(BestClub);